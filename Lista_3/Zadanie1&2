#include <iostream>

struct Link
{
    int value;
    Link* next = nullptr;
};

size_t size(const Link* head)
{
    size_t counter = 0;
    
    while(head != nullptr)
    {
        counter++;
        head = head->next;
    }
    return counter;
}

size_t sum(const Link* head)
{
    size_t suma = 0;

    while(head != nullptr)
    {
        suma += head->value;
        head = head->next;
    }
    return suma;
}


void add(Link** head, int n)
{
    Link* tmp = new Link;
    tmp->value = n;
    tmp->next = *head;
    *head = tmp;
}

void print(const Link* head)  // implementacja rekurencyjna
{
    if (head == nullptr) return;
    std::cout << head->value << " ";
    print(head->next);
}

void release(Link** phead)
{
    Link* head = *phead;
    if (head != nullptr)
    {
        Link* tmp = head;
        head = head->next;
        release(&head);
        delete tmp;
    }
    *phead = nullptr;

}

int main() {
    Link* lista = nullptr;

    add(&lista, 23);
    add(&lista, 24);
    add(&lista, 25);

    std::cout<<"Lista: ";
    print(lista);
    std::cout << "\n";
    std::cout<<"Liczba elementow listy: "<<size(lista);
    std::cout << "\n";
    std::cout<<"Suma elementow listy: "<<sum(lista);

    release(&lista);
    std::cout << "\n";
    std::cout<<"Lista: ";
    print(lista);
    return 0;
}
