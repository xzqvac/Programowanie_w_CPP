#include <iostream>
#include <vector>
#include <cmath>

std::vector<int> continued_fraction(int n, double x) {
    std::vector<int> cf;
    int i = n - 1;
    double number = x;
    int a = number;
    double u = 1 / (number - a);
    cf.push_back(a);
    while (i != 0)
    {
        number = u;
        a = number;
        u = 1 / (number - a);
        cf.push_back(a);
        i--;
    }
    return cf;
}

void converting(std::vector<int> a, int size)
{
    int pm = 0;
    int qm = 0;
    std::vector<int> ptable;
    std::vector<int> qtable;
    for(int i = 0; i<size; i++)
    {
        if (i == 0)
        {
            pm = a[i];
            ptable.push_back(pm);
            qm = 1;
            qtable.push_back(qm);
            std::cout << pm << "/" << qm << " " << (double)pm/qm << std::endl;
        }
        else if (i == 1)
        {
            pm = a[i] * ptable[i-1] + 1;
            ptable.push_back(pm);
            qm = a[i] * qtable[i-1];
            qtable.push_back(qm);
            std::cout << pm << "/" << qm << " " << (double)pm/qm << std::endl;
        }
        else
        {
            pm = a[i] * ptable[i-1] + ptable[i-2];
            ptable.push_back(pm);
            qm = a[i] * qtable[i-1] + qtable[i-2];
            qtable.push_back(qm);
            std::cout << pm << "/" << qm << " " << (double)pm/qm << std::endl;
        }
    }
}

int main()
{
    std::cout<<"Przyklad a"<<std::endl;
    std::vector<int> a = continued_fraction(10, ((sqrt(5)+1)/2));
    converting(a, 10);
    std::cout<<std::endl;
    std::cout<<"Przyklad b"<<std::endl;
    std::vector<int> b = continued_fraction(10, exp(1));
    converting(b, 10);
}
